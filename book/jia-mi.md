## HTTPS

HTTPS是在HTTP上建立SSL加密层，并对传输数据进行加密

1. 对数据进行加密 并建立一个信息安全通道 来保证传输过程中的数据安全、
2. 对网站服务器进行真实身份认证

## 存在背景

##### HTTP缺点

* HTTP使用明文 内容可能被窃听
* 无法证明报文的完整性
* 不验证通信方的身份

##### HTTPS

* 数据隐私性：内容经过对称加密，每个连接生成一个唯一的加密密匙
* 数据完整性：内容传输经过完整性校验
* 身份认证： 第三方无法伪造服务器（客户端）身份

## 如何解决？

HTTPS协议是HTTP通信接口部分用SSL和TLS协议代替了而已

通常HTTP直接和TCP通信 使用SSL 则演变成**HTTP**先和**SSL**通信 再和**TCP**通信

![](/assets/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f31322f32322f313637643438626337376565363966383f773d35363126683d32393726663d706e6726733d313430313839.png)

#### 1 解决内容可能被窃听的问题

##### 对称加密

加密和解密通用一个密匙 在怎么安全把密匙转交给对方是一个问题

**非对称加密**

一把叫做私有密匙 一把叫做公开密匙（可以发布）用公匙加密信息 用私匙解密

**缺点：**

* 公匙是公开的 所以针对私匙加密的信息 黑客截获后可以用公匙进行解密
* 公匙不包含服务器的信息 所以无法确保服务器身份的合法性 存在中间人攻击的风险 服务器发送给客户端的公匙可能在传送过程中被中间人截获并篡改
* 数据加密解密过程需要消耗一定的时间 降低了数据传输效率

**对称加密+非对称加密（HTTPS采用这种方式）**

对称加密解密效率快 非对称好处是可以使传送的内容不被破解 结合起来利用优势 **在交换密匙环节使用非对称加密方式（防止密匙泄漏） 之后的建立通信交换报文阶段则使用对称加密方式（解密效率高）**

#### 2 解决报文可能被篡改---数字签名

传输过程中 报文可能不会被破解 但可能被篡改 校验数字签名

* 确定消息确实是由发送方签名并发出来的 因为别人假冒不了发送方的签名
* 数字签名能确定消息的完整性 证明数据是否被篡改过

**数字签名生成**：取部分内容 通过**hash算法** 生成**消息摘要** 再用**私匙加密** 生成数字签名 随报文一同发送

**数字签名验证**：用发送者的**公匙解密摘要信息** 然后用HASH函数对收到的原文**产生一个摘要信息** 进行**对比**

如何传送安全的公匙 并证明是发送者的 引入 **证书颁发机构**

#### 3 解决通信方身份可能被伪装的问题---数字证书

数字证书认证机构处于客户端与服务器双方都可信赖的第三方机构的立场上。

































