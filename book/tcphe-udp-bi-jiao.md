> 原文链接： [https://github.com/ljianshu/Blog/issues/61](https://github.com/ljianshu/Blog/issues/61)

## TCP/IP网络模型

1. 链路层：负责封装和解封装IP报文
2. 网络层：负责路由以及把分组报文发送给目标网络或主机 IP协议
3. 传输层：负责对报文进行分组和重组  TCP或UDP协议
4. 应用层：负责向用户提供应用程序 HTTP协议 FTP DNS

![](/assets/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f322f32342f313639316666373630636361313062333f773d3130333326683d34303026663d706e6726733d3236373139.png)

## UDP

用户数据报协议 不提供数据包分组、组装、不能对数据包进行排序

* **面向无连接** 不进行握手 直接发送数据 并且不会对数据报文进行任何拆分和拼接操作
* **有单博 多博 广播的功能 **支持一对一 多对一 多对多的方式
* **UDP面向报文 **不对数据报文进行任何操作 只是添加部 所以 应用程序必须选择合适大小的报文
* **不可靠性 **不会备份 不会验证是否完整和已确认接受 没有拥塞控制
* **头部开销小 只有八字节** 头部包含：1.两个十六位的端口号 分贝未源端口 和 目标端口 2.整个数据报文的长度 3.整个数据报文的检验和 

## TCP

传输控制协议是一种面向连接的、可靠的、基于字节流的传输层通信协议

#### 1 TCP连接过程

**第一次握手**

客户端向服务端发送连接请求报文段**SYN**。该报文段中包含自身的数据通讯初始序号。请求发送后，客户端便进入 SYN-SENT 状态。

**第二次握手**

服务端收到连接请求报文段后，如果同意连接，则会发送一个应答**ACK**，该应答中也会包含自身的数据通讯初始序号**SYN**，发送完成后便进入 SYN-RECEIVED 状态。

**第三次握手**

当客户端收到连接同意的应答后，还要向服务端发送一个确认报文**ACK**。客户端发完这个报文段后便进入 ESTABLISHED 状态，服务端收到这个应答后也进入 ESTABLISHED 状态，此时连接建立成功

#### 2 TCP断开链接





